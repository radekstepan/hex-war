/**
 * Generates SVG icons for troops based on type and color.
 */
export function getTroopIcon(type: 'soldier' | 'small' | 'large', color: string): string {
    const shadow = 'filter="drop-shadow(0 0 2px rgba(0,0,0,1))"';
    const viewBox = 'viewBox="0 0 512 512"';

    const lugerPath = "M42.652 136.716v32.494a24.107 24.107 0 0 0 8.168 18.1h270.5v-50.406a7.302 7.302 0 0 0-7.146-5.978h-81.512a19.33 19.33 0 0 0-18.172-12.768h-58.948c6.208 25.003-12.71 49.193-38.472 49.193S72.39 143.16 78.6 118.16H61.136c-10.223.035-18.49 8.335-18.485 18.558zm409.04 1.554 2.65-3.38 7.896-11.474c3.297-4.768 8.94-4.768 12.236 0l7.615 14.802h8.835v29.344H338.01V138.27h113.703zM39.074 396.064c18.09 15.597 51.33 13.933 71.643 1.366 21.22-13.127 4.11-31.993 32.13-67.606 8.595-10.932 31.41-42.446 51.47-71.06 6.174-8.814 18.035-3.522 43.602 6.607 6.363 1.39 14.48 1.79 18.578 2.132 19.016 0 42.086-17.687 44.218-32.423 2.173-15.016-6.757-19.388 2.828-21.993 3.328-.905 9.26-5.045 9.67-9.067h-41.027c8.512 4.59 14.145 12.518 14.145 21.49 0 14.186-13.99 25.68-31.295 25.68-17.306 0-31.294-11.474-31.294-25.68 0-8.993 5.633-16.9 14.145-21.49H77.754c23.19 20.206 11.09 43.812 2.806 55.412l-52.158 73.24c-14.555 20.452-5.557 49.4 10.672 63.392zm21.14-38.28c0-11.868 14.347-17.81 22.74-9.418 8.39 8.39 2.448 22.74-9.42 22.74-7.357 0-13.32-5.964-13.32-13.32zm188.2-117.13c-9.727-7.012-7.78-25.204-5.018-36.613h12.8c-7.575 8.55-11.452 27.26-7.783 36.615zM140.008 127.64c0 20.447-24.72 30.684-39.177 16.227-14.456-14.456-4.22-39.176 16.227-39.176 12.674 0 22.95 10.276 22.95 22.95z";

    const gunPath = "M200.02 282.864c.647 5.763-.805 16.744-4.795 23.737-7.455 12.98-70.408 119.37-93.583 158.517a10.8 10.8 0 0 1-18.156.723l-38.987-55.936a9.806 9.806 0 0 1 .71-12.2l76.428-66.323a15.526 15.526 0 0 1 11.655-5.148l4.886.031a13.414 13.414 0 0 0 13.335-11.224l48.504-32.203zm81.47-88.347 14.718 22.17a9.292 9.292 0 0 1-2.602 12.88l-25.679 17.05s-3.853 9.861-3.262 14.073c.59 4.212 4.087 15.196 3.565 18.187-.522 2.991-3.116 7.07-2.512 9.177.604 2.107 6.36 8.384 6.175 9.302a12.146 12.146 0 0 1-3.888 3.554 18.939 18.939 0 0 1-12.95 3.322c-9.173-1.309-12.276-1.153-14.047-2.582-1.77-1.428-8.27-3.416-9.518-12.686-1.25-9.27 3.298-24.648 3.15-26.688-.148-2.039-.188-9.467-4.485-13.835-4.298-4.368-14.83 2.432-24.26 8.598l-52.413 34.798-17.882-26.934 9.054-6.011-.938-16.397a9.292 9.292 0 0 1 7.537-8.854l25.396-4.884a4.795 4.795 0 0 1 4.897 2.051l1.648 2.482 119.976-79.654 12.212 18.393-33.877 22.491zm8.04 20.697a8.528 8.528 0 0 0-11.821-2.388l-13.077 8.683a8.528 8.528 0 0 0-2.388 11.82l.827 1.247a8.528 8.528 0 0 0 11.821 2.387l13.077-8.682a8.528 8.528 0 0 0 2.388-11.821l-.796-1.198zm164.75-161.89-11.84 7.861 7.235 10.9 19.62-13.027L459.06 43.64a4.67 4.67 0 0 0-6.472-1.307 4.909 4.909 0 0 0-.752.622 4.738 4.738 0 0 0-.486 5.955zM306.809 199.63l63.016 94.916 18.67-12.395-63.017-94.916zm42.065-36.08 85.918-57.044a13.174 13.174 0 0 0 3.689-18.262l-11.259-16.957-107.868 71.617 11.258 16.957a13.174 13.174 0 0 0 18.252 3.695z";

    const tankPath = "m213.3 91.24-67.2 24.26v65.7l67.2-24.2zm250.4 8.7L279.4 154.8h-1.3c0 1 0 3.3 1.2 6.3 1.2 3.4 3.5 7.1 6 9.5 2.1 2.1 3.9 2.8 5.2 3.1L470.7 120zm-232 16.86v53l-48.2 17.4-11.4 24.7h178.3l-8.1-33.8-49.6 14.7h-1.4c-7.9 0-14.5-3.9-19.3-8.6-4.8-4.7-8.4-10.5-10.6-16.6-2.3-6-3.5-12.4-1.3-19.1 1.9-6.2 8.6-11.6 15.9-12.5l52.4-15.6-1-3.6zm-136.33 114-10.71 38h92.64l-5.4 57.1h168l-5.3-57.1h83.8l-10.6-38zm-46.56 56.9-25.83 76.2H149.3l7.1-76.2zm306.69 0 7.1 76.2H489l-26-76.2zm-184.3 57.1 3 38.1h162.3l2.9-38.1zM61 382.8l10.79 38h86.31l-3-38zm294.6 0-2.9 38h86.2l10.7-38z";
    
    if (type === 'soldier') {
        // Soldier (1 unit): Luger Pistol
        return `<svg ${viewBox} xmlns="http://www.w3.org/2000/svg" ${shadow}>
            <path d="${lugerPath}" fill="${color}" />
        </svg>`;
    } else if (type === 'large') {
        // Large Group (5+ units): Battle Tank
        // Scaled down to 75% to appear smaller within the uniform container
        return `<svg ${viewBox} xmlns="http://www.w3.org/2000/svg" ${shadow}>
            <g transform="translate(64, 64) scale(0.75)">
                <path d="${tankPath}" fill="${color}" />
            </g>
        </svg>`;
    } else {
        // Small Group (2-4 units): Thompson Gun
        return `<svg ${viewBox} xmlns="http://www.w3.org/2000/svg" ${shadow}>
            <path d="${gunPath}" fill="${color}" />
        </svg>`;
    }
}
